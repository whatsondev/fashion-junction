!function(c){woodmartThemeModule.$document.on("wdProductsTabsLoaded wdSearchFullScreenContentLoaded wdUpdateWishlist wdRecentlyViewedProductLoaded wdShopPageInit",function(){woodmartThemeModule.productsLoadMore()}),c.each(["frontend/element_ready/wd_products.default","frontend/element_ready/wd_products_tabs.default","frontend/element_ready/wd_archive_products.default"],function(o,e){woodmartThemeModule.wdElementorAddAction(e,function(){woodmartThemeModule.productsLoadMore()})}),woodmartThemeModule.productsLoadMore=function(){var l,u=!1,w=(c(".wd-products-element").each(function(){var o,e,t,d,a=c(this),n=[],r=a.find(".wd-products"),s=a.find(".wd-ajax-arrows");function i(){d=woodmartThemeModule.$window.height()/2,e=woodmartThemeModule.$window.scrollTop(),d=a.offset().top-d,t=o.outerHeight(),t=a.height()-t,t=d+t,e<d||t<e?s.removeClass("wd-shown"):s.addClass("wd-shown")}s.hasClass("wd-pos-sep")&&(o=s.find(".wd-btn-arrow.wd-prev"),woodmartThemeModule.$window.on("scroll",function(){i()}),setTimeout(function(){i()},500)),r.hasClass("pagination-arrows")&&(n[parseInt(r.data("paged"))]={items:r.html(),status:"have-posts"},a.find(".wd-ajax-arrows .wd-btn-arrow.wd-prev, .wd-ajax-arrows .wd-btn-arrow.wd-next").on("click",function(o){o.preventDefault();o=c(this);if(!u&&!o.hasClass("wd-disabled")){u=!0,clearInterval(l);var d=o.parent().prev(),a=o.parent().find(".wd-btn-arrow.wd-next"),r=o.parent().find(".wd-btn-arrow.wd-prev"),e=d.data("atts"),t=woodmart_settings.ajaxurl,s=d.attr("data-paged");if(s++,o.hasClass("wd-prev")){if(s<2)return;s-=2}w("arrows",e,t,"woodmart_get_products_shortcode","json","POST",s,d,o,n,function(o){var e,t=d.hasClass("products-bordered-grid")||d.hasClass("products-bordered-grid-ins");d.siblings(".wd-sticky-loader").removeClass("wd-loading"),t||d.addClass("wd-animated-products"),o.items.length&&(d.html(o.items).attr("data-paged",s),d.imagesLoaded().progress(function(){d.parent().trigger("recalc")}),woodmartThemeModule.$document.trigger("wood-images-loaded"),woodmartThemeModule.$document.trigger("wdArrowsLoadProducts")),woodmartThemeModule.$window.width()<768&&c("html, body").stop().animate({scrollTop:d.offset().top-150},400),t||(e=0,l=setInterval(function(){d.find(".wd-product").eq(e).addClass("wd-animated"),e++},100)),1<s?r.removeClass("wd-disabled"):r.addClass("wd-disabled"),"no-more-posts"===o.status?a.addClass("wd-disabled"):a.removeClass("wd-disabled")})}}))}),woodmartThemeModule.clickOnScrollButton(woodmartThemeModule.shopLoadMoreBtn,!1,woodmart_settings.infinit_scroll_offset),woodmartThemeModule.$document.off("click",".wd-products-load-more").on("click",".wd-products-load-more",function(o){var e,t,d,a,r,s,n;o.preventDefault(),u||(u=!0,e=c(this),t=e.parents(".wd-products-element").find(".wd-products"),o="woodmart_get_products_"+(d=t.data("source")),a=woodmart_settings.ajaxurl,r="POST",s=t.data("atts"),n=t.data("paged"),n++,"main_loop"===d&&(a=c(this).attr("href"),r="GET"),w("load-more",s,a,o,"json",r,n,t,e,[],function(o){o.items.length&&(t.hasClass("grid-masonry")?i(t,o.items):t.append(o.items),"no-more-posts"!==o.status&&t.imagesLoaded().progress(function(){woodmartThemeModule.clickOnScrollButton(woodmartThemeModule.shopLoadMoreBtn,!0,woodmart_settings.infinit_scroll_offset)}),woodmartThemeModule.$document.trigger("wood-images-loaded"),woodmartThemeModule.$document.trigger("wdLoadMoreLoadProducts"),t.data("paged",n)),"main_loop"===d&&(e.attr("href",o.nextPage),"no-more-posts"===o.status)&&e.hide().remove(),"no-more-posts"===o.status&&e.hide()}))}),function(o,e,t,d,a,r,s,n,i,l,w){var m={atts:e,paged:s,action:d,woo_ajax:1};"GET"===r&&(t=woodmartThemeModule.removeURLParameter(t,"loop"),t=woodmartThemeModule.removeURLParameter(t,"woo_ajax")),l[s]?(n.addClass("wd-loading"),setTimeout(function(){w(l[s]),n.removeClass("wd-loading"),u=!1},300)):("arrows"===o&&(n.addClass("wd-loading").parent().addClass("wd-loading"),n.siblings(".wd-sticky-loader").addClass("wd-loading")),i.addClass("loading"),"woodmart_get_products_main_loop"===d&&(m={loop:n.find(".product").last().data("loop"),woo_ajax:1,atts:e}),c.ajax({url:t,data:m,dataType:a,method:r,success:function(d){woodmartThemeModule.removeDuplicatedStylesFromHTML(d.items,function(o){var e,t=c(".woocommerce-result-count");d.items=o,l[s]=d,w(d),"yes"===woodmart_settings.load_more_button_page_url_opt&&"no"!==woodmart_settings.load_more_button_page_url&&d.currentPage&&(o="",e=d.currentPage+window.location.search,window.history.state&&window.history.state.hasOwnProperty("url")&&(window.history.state.url=e,o=window.history.state),window.history.replaceState(o,"",e),c(".woocommerce-breadcrumb").replaceWith(d.breadcrumbs)),0<t.length&&d.hasOwnProperty("resultCount")&&t.replaceWith(d.resultCount)})},error:function(){console.log("ajax error")},complete:function(){"arrows"===o&&n.removeClass("wd-loading").parent().removeClass("wd-loading"),i.removeClass("loading"),u=!1}}))}),i=function(o,e){e=c(e);o.append(e).isotope("appended",e),o.imagesLoaded().progress(function(){o.isotope("layout")})}},c(document).ready(function(){woodmartThemeModule.productsLoadMore()})}(jQuery);